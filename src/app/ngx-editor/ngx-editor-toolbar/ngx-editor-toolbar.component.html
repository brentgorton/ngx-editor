<div class="slds-rich-text-editor__toolbar slds-shrink-none" *ngIf="config['showToolbar']">
    <!--<div
      slds-dropdown
      auto-close="true"
      class="slds-m-right--xx-small"
    >
      <div class="slds-combobox_container">
        <div class="slds-input-has-icon slds-input-has-icon_right">
          <input
            type="text"
            class="slds-input"
            [value]="fontName"
            slds-dropdown-trigger="click"
          />
          <span class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right">
            <svg slds-icon="down" class="slds-icon slds-icon slds-icon_x-small slds-icon-text-default"></svg>
          </span>
        </div>
        <div slds-dropdown-menu="bottom-right">
          <ul class="slds-dropdown__list">
            <li class="slds-dropdown__item" (click)="setFontName(font)" *ngFor="let font of _fonts">
                <a href="javascript:void(0);">
                    <span class="slds-truncate">
                      {{ font.label }}
                    </span>
                  </a>
              </li>
          </ul>
        </div>
      </div>
    </div>
    <div
      slds-dropdown
      auto-close="true"
      class="slds-m-right--xx-small"
    >
      <div class="slds-combobox_container">
        <div class="slds-input-has-icon slds-input-has-icon_right">
          <input
            type="text"
            class="slds-input"
            [value]="fontSize"
            slds-dropdown-trigger="click"
          />
          <span class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right">
            <svg slds-icon="down" class="slds-icon slds-icon slds-icon_x-small slds-icon-text-default"></svg>
          </span>
        </div>
        <div slds-dropdown-menu="bottom-right" style="max-height: 250px; overflow: auto;">
          <ul class="slds-dropdown__list">
            <li class="slds-dropdown__item" (click)="setFontSize(size)" *ngFor="let size of _sizes">
                <a href="javascript:void(0);">
                    <span class="slds-truncate">
                      {{ size }}
                    </span>
                  </a>
              </li>
          </ul>
        </div>
      </div>
    </div>-->
  <div class="slds-button-group" role="group">
    <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('bold')" [class.slds-button_icon-brand]="getState('bold')" *ngIf="canEnableToolbarOptions('bold')" (click)="triggerCommand('bold')"
      title="Bold" [disabled]="!config['enableToolbar']">
      <svg slds-icon="bold" class="slds-button__icon"></svg>
    </button>
    <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('italic')" [class.slds-button_icon-brand]="getState('italic')" *ngIf="canEnableToolbarOptions('italic')" (click)="triggerCommand('italic')"
      title="Italic" [disabled]="!config['enableToolbar']">
      <svg slds-icon="italic" class="slds-button__icon"></svg>
    </button>
    <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('underline')" [class.slds-button_icon-brand]="getState('underline')" *ngIf="canEnableToolbarOptions('underline')" (click)="triggerCommand('underline')"
      title="Underline" [disabled]="!config['enableToolbar']">
      <svg slds-icon="underline" class="slds-button__icon"></svg>
    </button>
    <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('strikeThrough')" [class.slds-button_icon-brand]="getState('strikeThrough')" *ngIf="canEnableToolbarOptions('strikeThrough')" (click)="triggerCommand('strikeThrough')"
      title="Strikethrough" [disabled]="!config['enableToolbar']">
      <svg slds-icon="strikethrough" class="slds-button__icon"></svg>
    </button>
  </div>
  <!--
  <div class="slds-button-group" role="group">
    <button type="button" class="slds-button slds-button_icon slds-button_icon-border-filled" *ngIf="canEnableToolbarOptions('fontName')" (click)="fontName = ''"
      title="Font Family" [popover]="fontNameTemplate" #fontNamePopover="bs-popover" containerClass="ngxePopover"
      [disabled]="!config['enableToolbar']">
      <svg slds-icon="text_background_color" class="slds-button__icon"></svg>
    </button>
    <button type="button" class="slds-button slds-button_icon slds-button_icon-border-filled" *ngIf="canEnableToolbarOptions('fontSize')" (click)="fontSize = ''"
      title="Font Size" [popover]="fontSizeTemplate" #fontSizePopover="bs-popover" containerClass="ngxePopover"
      [disabled]="!config['enableToolbar']">
      <svg slds-icon="text" class="slds-button__icon"></svg>
    </button>
  </div>
-->
  <div class="slds-button-group" role="group">
    <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('unorderedList')" [class.slds-button_icon-brand]="getState('unorderedList')" *ngIf="canEnableToolbarOptions('unorderedList')" (click)="triggerCommand('insertUnorderedList')"
      title="Unordered List" [disabled]="!config['enableToolbar']">
      <svg slds-icon="richtextbulletedlist" class="slds-button__icon"></svg>
    </button>
    <button type="button" class="slds-button slds-button_icon"  [class.slds-button_icon-border-filled]="!getState('orderedList')" [class.slds-button_icon-brand]="getState('orderedList')" *ngIf="canEnableToolbarOptions('orderedList')" (click)="triggerCommand('insertOrderedList')"
      title="Ordered List" [disabled]="!config['enableToolbar']">
      <svg slds-icon="richtextnumberedlist" class="slds-button__icon"></svg>
    </button>
    <button type="button" class="slds-button slds-button_icon slds-button_icon-border-filled" *ngIf="canEnableToolbarOptions('indent')" (click)="triggerCommand('indent')"
      title="Indent" [disabled]="!config['enableToolbar']">
      <svg slds-icon="richtextindent" class="slds-button__icon"></svg>
    </button>
    <button type="button" class="slds-button slds-button_icon slds-button_icon-border-filled" *ngIf="canEnableToolbarOptions('outdent')" (click)="triggerCommand('outdent')"
      title="Outdent" [disabled]="!config['enableToolbar']">
      <svg slds-icon="richtextoutdent" class="slds-button__icon"></svg>
    </button>
  </div>
  <div class="slds-button-group" role="group">
      <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('justifyLeft')" [class.slds-button_icon-brand]="getState('justifyLeft')" *ngIf="canEnableToolbarOptions('justifyLeft')" (click)="triggerCommand('justifyLeft')"
        title="Justify Left" [disabled]="!config['enableToolbar']">
        <svg slds-icon="left_align_text" class="slds-button__icon"></svg>
      </button>
      <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('justifyCenter')" [class.slds-button_icon-brand]="getState('justifyCenter')" *ngIf="canEnableToolbarOptions('justifyCenter')" (click)="triggerCommand('justifyCenter')"
        title="Justify Center" [disabled]="!config['enableToolbar']">
        <svg slds-icon="center_align_text" class="slds-button__icon"></svg>
      </button>
      <button type="button" class="slds-button slds-button_icon" [class.slds-button_icon-border-filled]="!getState('justifyRight')" [class.slds-button_icon-brand]="getState('justifyRight')" *ngIf="canEnableToolbarOptions('justifyRight')" (click)="triggerCommand('justifyRight')"
        title="Justify Right" [disabled]="!config['enableToolbar']">
        <svg slds-icon="right_align_text" class="slds-button__icon"></svg>
      </button>
    </div>
  </div>
  <!--
  <div class="slds-button-group" role="group">
    <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('link')" (click)="buildUrlForm()"
      [popover]="insertLinkTemplate" title="Insert Link" #urlPopover="bs-popover" containerClass="ngxePopover"
      [disabled]="!config['enableToolbar']">
      <i class="fa fa-link" aria-hidden="true"></i>
    </button>
    <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('unlink')" (click)="triggerCommand('unlink')"
      title="Unlink" [disabled]="!config['enableToolbar']">
      <i class="fa fa-chain-broken" aria-hidden="true"></i>
    </button>
    <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('image')" (click)="buildImageForm()"
      title="Insert Image" [popover]="insertImageTemplate" #imagePopover="bs-popover" containerClass="ngxePopover"
      [disabled]="!config['enableToolbar']">
      <i class="fa fa-picture-o" aria-hidden="true"></i>
    </button>
    <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('video')" (click)="buildVideoForm()"
      title="Insert Video" [popover]="insertVideoTemplate" #videoPopover="bs-popover" containerClass="ngxePopover"
      [disabled]="!config['enableToolbar']">
      <i class="fa fa-youtube-play" aria-hidden="true"></i>
    </button>
  </div>
-->

<!-- URL Popover template -->
<ng-template #insertLinkTemplate>
  <div class="ngxe-popover extra-gt">
    <form [formGroup]="urlForm" (ngSubmit)="urlForm.valid && insertLink()" autocomplete="off">
      <div class="form-group">
        <label for="urlInput" class="small">URL</label>
        <input type="text" class="form-control-sm" id="URLInput" placeholder="URL" formControlName="urlLink" required>
      </div>
      <div class="form-group">
        <label for="urlTextInput" class="small">Text</label>
        <input type="text" class="form-control-sm" id="urlTextInput" placeholder="Text" formControlName="urlText"
          required>
      </div>
      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="urlNewTab" formControlName="urlNewTab">
        <label class="form-check-label" for="urlNewTab">Open in new tab</label>
      </div>
      <button type="submit" class="btn-primary btn-sm btn">Submit</button>
    </form>
  </div>
</ng-template>

<!-- Image Uploader Popover template -->
<ng-template #insertImageTemplate>
  <div class="ngxe-popover imgc-ctnr">
    <div class="imgc-topbar btn-ctnr">
      <button type="button" class="btn" [ngClass]="{active: isImageUploader}" (click)="isImageUploader = true">
        <i class="fa fa-upload"></i>
      </button>
      <button type="button" class="btn" [ngClass]="{active: !isImageUploader}" (click)="isImageUploader = false">
        <i class="fa fa-link"></i>
      </button>
    </div>
    <div class="imgc-ctnt is-image">
      <div *ngIf="isImageUploader; else insertImageLink"> </div>
      <div *ngIf="!isImageUploader; else imageUploder"> </div>
      <ng-template #imageUploder>
        <div class="ngx-insert-img-ph">
          <p *ngIf="uploadComplete">Choose Image</p>
          <p *ngIf="!uploadComplete">
            <span>Uploading Image</span>
            <br>
            <span>{{ updloadPercentage }} %</span>
          </p>
          <div class="ngxe-img-upl-frm">
            <input type="file" (change)="onFileChange($event)" accept="image/*" [disabled]="isUploading" [style.cursor]="isUploading ? 'not-allowed': 'allowed'">
          </div>
        </div>
      </ng-template>
      <ng-template #insertImageLink>
        <form class="extra-gt" [formGroup]="imageForm" (ngSubmit)="imageForm.valid && insertImage()" autocomplete="off">
          <div class="form-group">
            <label for="imageURLInput" class="small">URL</label>
            <input type="text" class="form-control-sm" id="imageURLInput" placeholder="URL" formControlName="imageUrl"
              required>
          </div>
          <button type="submit" class="btn-primary btn-sm btn">Submit</button>
        </form>
      </ng-template>
      <div class="progress" *ngIf="!uploadComplete">
        <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" [ngClass]="{'bg-danger': updloadPercentage<20, 'bg-warning': updloadPercentage<50, 'bg-success': updloadPercentage>=100}"
          [style.width.%]="updloadPercentage"></div>
      </div>
    </div>
  </div>
</ng-template>


<!-- Insert Video Popover template -->
<ng-template #insertVideoTemplate>
  <div class="ngxe-popover imgc-ctnr">
    <div class="imgc-topbar btn-ctnr">
      <button type="button" class="btn active">
        <i class="fa fa-link"></i>
      </button>
    </div>
    <div class="imgc-ctnt is-image">
      <form class="extra-gt" [formGroup]="videoForm" (ngSubmit)="videoForm.valid && insertVideo()" autocomplete="off">
        <div class="form-group">
          <label for="videoURLInput" class="small">URL</label>
          <input type="text" class="form-control-sm" id="videoURLInput" placeholder="URL" formControlName="videoUrl"
            required>
        </div>
        <div class="row form-group">
          <div class="col">
            <input type="text" class="form-control-sm" formControlName="height" placeholder="height (px)" pattern="[0-9]">
          </div>
          <div class="col">
            <input type="text" class="form-control-sm" formControlName="width" placeholder="width (px)" pattern="[0-9]">
          </div>
          <label class="small">Height/Width</label>
        </div>
        <button type="submit" class="btn-primary btn-sm btn">Submit</button>
      </form>
    </div>
  </div>
</ng-template>

<!-- Insert color template -->
<ng-template #insertColorTemplate>
  <div class="ngxe-popover imgc-ctnr">
    <div class="imgc-topbar two-tabs">
      <span (click)="selectedColorTab ='textColor'" [ngClass]="{active: selectedColorTab ==='textColor'}">Text</span>
      <span (click)="selectedColorTab ='backgroundColor'" [ngClass]="{active: selectedColorTab ==='backgroundColor'}">Background</span>
    </div>
    <div class="imgc-ctnt is-color extra-gt1">
      <form autocomplete="off">
        <div class="form-group">
          <label for="hexInput" class="small">Hex Color</label>
          <input type="text" class="form-control-sm" id="hexInput" name="hexInput" maxlength="7" placeholder="HEX Color"
            [(ngModel)]="hexColor" required>
        </div>
        <button type="button" class="btn-primary btn-sm btn" (click)="insertColor(hexColor, selectedColorTab)">Submit</button>
      </form>
    </div>
  </div>
</ng-template>

<!-- font size template -->
<ng-template #fontSizeTemplate>
  <div class="ngxe-popover extra-gt1">
    <form autocomplete="off">
      <div class="form-group">
        <label for="fontSize" class="small">Font Size</label>
        <input type="text" class="form-control-sm" id="fontSize" name="fontSize" placeholder="Font size in px/rem"
          [(ngModel)]="fontSize" required>
      </div>
      <button type="button" class="btn-primary btn-sm btn" (click)="setFontSize(fontSize)">Submit</button>
    </form>
  </div>
</ng-template>

<!-- font family/name template -->
<ng-template #fontNameTemplate>
  <div class="ngxe-popover extra-gt1">
    <form autocomplete="off">
      <div class="form-group">
        <label for="fontSize" class="small">Font Size</label>
        <input type="text" class="form-control-sm" id="fontSize" name="fontName" placeholder="Ex: 'Times New Roman', Times, serif"
          [(ngModel)]="fontName" required>
      </div>
      <button type="button" class="btn-primary btn-sm btn" (click)="setFontName(fontName)">Submit</button>
    </form>
  </div>
</ng-template>
